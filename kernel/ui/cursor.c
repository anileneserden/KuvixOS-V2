// src/bitmaps/cursor.c
#include <kernel/drivers/video/fb.h>
#include <ui/cursor.h>

// 0 = transparent, 1 = white outline, 2 = black fill
static const uint8_t cursor_bitmap[CURSOR_H][CURSOR_W] = {
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,1,2,1,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0,0,0,0},
    {0,0,0,0,0,1,2,2,2,2,2,2,2,1,0,0,0,0,0,0},
    {0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0},
    {0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0,0,0},
    {0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0,0},
    {0,0,0,0,0,1,2,2,2,2,2,2,1,1,1,1,1,0,0,0},
    {0,0,0,0,0,1,2,2,2,1,2,2,1,0,0,0,0,0,0,0},
    {0,0,0,0,0,1,2,2,1,0,1,2,2,1,0,0,0,0,0,0},
    {0,0,0,0,0,1,2,1,0,0,1,2,2,1,0,0,0,0,0,0},
    {0,0,0,0,0,1,1,0,0,0,0,1,2,2,1,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,1,2,2,1,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0},
};

// index -> renk
static const fb_color_t cursor_palette[] = {
    0x00000000, // 0 = transparent
    0xFFFFFFFF, // 1 = white
    0xFF000000, // 2 = black
};

void cursor_draw_arrow(int x, int y)
{
    for (int row = 0; row < CURSOR_H; row++) {
        for (int col = 0; col < CURSOR_W; col++) {
            uint8_t idx = cursor_bitmap[row][col];
            if (idx == 0)
                continue;  // ÅŸeffaf

            fb_putpixel(x + col, y + row, cursor_palette[idx]);
        }
    }
}
